<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Playfair Display',serif;
  background:linear-gradient(135deg,#ffd6e8,#ffe9f2);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* Floating background hearts */
.bg-heart{
  position:fixed;
  font-size:18px;
  color:#ff6b9d;
  opacity:.4;
  animation:float 10s linear infinite;
}
@keyframes float{
  from{transform:translateY(110vh)}
  to{transform:translateY(-10vh)}
}

/* Card */
.card{
  width:90%;
  max-width:380px;
  background:rgba(255,255,255,.92);
  border-radius:22px;
  padding:30px 24px;
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,.15);
  animation:flip .8s ease;
}
@keyframes flip{
  from{transform:rotateY(90deg);opacity:0}
  to{transform:rotateY(0);opacity:1}
}

h1{color:#c9184a;font-size:26px;margin-bottom:14px}
p{color:#7a1632;font-size:18px;line-height:1.5}

button{
  margin-top:14px;
  padding:12px 24px;
  font-size:16px;
  border:none;
  border-radius:30px;
  background:linear-gradient(135deg,#ff5c8a,#ff8fab);
  color:white;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.05)}

.options button{width:100%;margin:10px 0}

/* Kiss animation */
.kiss-wrap{height:70px;position:relative}
.kiss{
  position:absolute;
  font-size:32px;
  animation:kiss 2s ease forwards;
}
.kiss.left{left:25%}
.kiss.right{right:25%}
@keyframes kiss{
  0%{opacity:0;transform:scale(.6)}
  40%{opacity:1}
  80%{transform:translateX(40px)}
  100%{opacity:0}
}

/* Heart effects */
.heart-particle{
  position:fixed;
  font-size:14px;
  color:#ff6b9d;
  pointer-events:none;
  animation:heartPop 1s ease-out forwards;
}
@keyframes heartPop{
  from{transform:scale(.6);opacity:1}
  to{transform:translateY(-30px) scale(1.4);opacity:0}
}

.heart-trail{
  position:fixed;
  font-size:12px;
  color:#ff8fab;
  pointer-events:none;
  opacity:.7;
  animation:trailFade .8s linear forwards;
}
@keyframes trailFade{
  to{opacity:0;transform:scale(.8)}
}
</style>
</head>

<body>

<script>
for(let i=0;i<18;i++){
  const h=document.createElement("div");
  h.className="bg-heart";
  h.innerText="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"%";
  h.style.animationDuration=7+Math.random()*8+"s";
  document.body.appendChild(h);
}
</script>

<div id="app" class="card"></div>

<!-- Music (ONLY plays on YES) -->
<audio id="song" src="valentine.mp3" preload="auto"></audio>

<script>
const app=document.getElementById("app");
const song=document.getElementById("song");

let chaseStarted=false;
let chaseMsgEl=null;

/* FLOW */

function openLetter(){
  app.innerHTML=`
    <h1>Open the letter üíå</h1>
    <p>There‚Äôs something inside for you‚Ä¶</p>
    <button onclick="secret()">Tap to open</button>
  `;
}

function secret(){
  app.innerHTML=`
    <p>There‚Äôs a secret‚Ä¶</p>
    <button onclick="love()">Go to next page</button>
  `;
}

function love(){
  app.innerHTML=`
    <h1>I loveee you sooo muchhhhh babuuu üíó</h1>
    <button onclick="favQ()">Next</button>
  `;
}

function favQ(){
  app.innerHTML=`
    <p><b>What do you think is my favorite thing in the world?</b></p>
    <div class="options">
      <button onclick="fav()">Gym</button>
      <button onclick="fav()">Biriyani</button>
      <button onclick="fav()">Sports</button>
      <button onclick="fav()">Gaming</button>
    </div>
  `;
}

function fav(){
  app.innerHTML=`
    <h1>You‚Äôre my favorite üòò</h1>
    <div class="kiss-wrap">
      <div class="kiss left">üíã</div>
      <div class="kiss right">üíã</div>
    </div>
    <button onclick="finalPrep()">Next</button>
  `;
}

function finalPrep(){
  app.innerHTML=`
    <p>Acha‚Ä¶ one final question ‚ù§Ô∏è</p>
    <button onclick="valentine()">Okay</button>
  `;
}

function valentine(){
  chaseStarted=false;
  if(chaseMsgEl){chaseMsgEl.remove();chaseMsgEl=null;}

  app.innerHTML=`
    <h1 style="color:#b5173f">Will you be my Valentine? üíò</h1>
    <button onclick="yes()">Yes</button>
    <button id="noBtn">No</button>
    <button id="maybeBtn">Maybe</button>
  `;

  enableChase(document.getElementById("noBtn"));
  enableChase(document.getElementById("maybeBtn"));
}

/* Chase */

function enableChase(btn){
  btn.addEventListener("touchstart",(e)=>{e.preventDefault();run(btn)},{passive:false});
  btn.addEventListener("mouseenter",()=>run(btn));
}

function run(btn){
  const x=(Math.random()*300-150);
  const y=(Math.random()*200-100);

  btn.style.transform=`translate(${x}px,${y}px) scale(1.05)`;

  const r=btn.getBoundingClientRect();

  spawnBurstHearts(r.left+r.width/2,r.top+r.height/2);
  spawnTrailHeart(r.left+r.width/2,r.top+r.height/2);

  if(!chaseStarted){
    chaseStarted=true;
    startChaseMessages();
  }

  if(chaseMsgEl){
    chaseMsgEl.style.left=r.left+r.width/2+"px";
    chaseMsgEl.style.top=r.top+r.height+18+"px";
  }
}

function startChaseMessages(){
  chaseMsgEl=document.createElement("div");
  chaseMsgEl.style.position="fixed";
  chaseMsgEl.style.transform="translateX(-50%)";
  chaseMsgEl.style.color="#7a1632";
  chaseMsgEl.style.fontSize="16px";
  chaseMsgEl.style.pointerEvents="none";
  document.body.appendChild(chaseMsgEl);

  setTimeout(()=>chaseMsgEl.innerText="You‚Äôre that adamant huh bodmosh üòè",2000);
  setTimeout(()=>chaseMsgEl.innerText="You ain‚Äôt catching it üòå",5000);
  setTimeout(()=>chaseMsgEl.innerText="You know the correct answer ‚ù§Ô∏è",8000);
}

/* Hearts */

function spawnBurstHearts(x,y){
  for(let i=0;i<6;i++){
    const h=document.createElement("div");
    h.className="heart-particle";
    h.innerText="‚ù§Ô∏è";
    h.style.left=(x+Math.random()*30-15)+"px";
    h.style.top=(y+Math.random()*30-15)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1000);
  }
}

function spawnTrailHeart(x,y){
  const h=document.createElement("div");
  h.className="heart-trail";
  h.innerText="üíñ";
  h.style.left=x+"px";
  h.style.top=y+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),800);
}

/* YES ‚Äî music + image ONLY here */

function yes(){
  if(chaseMsgEl){chaseMsgEl.remove();chaseMsgEl=null;}

  song.currentTime=0;
  song.play().catch(()=>{});

  app.innerHTML=`
    <h1>That‚Äôs right üòå</h1>
    <p>You‚Äôre stuck with me.<br><b>My forever Valentine ‚ù§Ô∏è</b></p>
    <img src="proposal.jpg" style="width:100%;border-radius:16px;margin-top:16px">
  `;
}

openLetter();
</script>

</body>
</html>
